<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <title>SpellCheck</title>

    <!-- Collegamento alla favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Aggiunta di font da Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=IM+Fell+English&display=swap" rel="stylesheet">
    
    <!-- Collegamento al file CSS esterno -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="text-center mb-4">
        <h1>SpellCheck - Calcolo Difficoltà Incantesimi</h1>
        <img src="logo.png" alt="Logo" class="img-fluid" style="max-width: 150px;">
        
        <div class="text-center mt-4">
            <button id="install-button" style="display: none;">Installa App</button>
        </div>
        <div id="popup-difficolta" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>Difficoltà Totale: <span id="difficolta-totale-popup">20</span></h2>
                <div class="text-center mt-4">
                    <button id="close-popup" class="btn btn-custom">Chiudi</button>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <form>
            <div class="mb-3">
                <label for="distanza" class="form-label">A che distanza si trova il bersaglio?</label>
                <select id="distanza" class="form-select">
                    <option value="-2">Personale (-2)</option>
                    <option value="0">Tocco (+0)</option>
                    <option value="3">Corta (entro 3 m) (+3)</option>
                    <option value="10">Media (entro 10 m) (+10)</option>
                    <option value="25">Lunga (entro 25 m) (+25)</option>
                    <option value="50">Lunghissima (entro 1 km) (+50)</option>
                    <option value="60">Non in vista (Conosciuto) (+60)</option>
                    <option value="75">Non in vista (Sconosciuto) (+75)</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="area" class="form-label">Quale sarà l'area d'effetto?</label>
                <select id="area" class="form-select" onchange="mostraInputBersagliDiametro()">
                    <option value="0">Creatura – Intera (+0)</option>
                    <option value="3">Creatura – Locazione (+3)</option>
                    <option value="5">Creatura – Sub locazione (Esterna) (+5)</option>
                    <option value="10">Creatura – Sub locazione (Interna) (+10)</option>
                    <option value="5">Ogni bersaglio oltre il primo (+5)</option>
                    <option value="5">Ogni 5 metri di diametro (+5)</option>
                </select>
            </div>

            <!-- Campo di input nascosto per "Ogni bersaglio oltre il primo" -->
            <div class="mb-3" id="input-bersagli" style="display: none;">
                <label for="numero-bersagli" class="form-label">Inserisci il numero di bersagli oltre il primo:</label>
                <input type="number" id="numero-bersagli" class="form-control" min="0" value="0">
            </div>
            
            <!-- Campo di input nascosto per "Ogni 5 metri di diametro" -->
            <div class="mb-3" id="input-diametro" style="display: none;">
                <label for="numero-diametro" class="form-label">Inserisci il numero di incrementi di 5 metri di diametro:</label>
                <input type="number" id="numero-diametro" class="form-control" min="0" value="0">
            </div>
            
            <div class="mb-3">
                <label for="durata" class="form-label">Durata</label>
                <select id="durata" class="form-select" onchange="mostraInputDurata()">
                    <option value="0">1 round / Istantaneo (+0)</option>
                    <option value="2">Ogni round oltre il primo (+2)</option>
                    <option value="5">Ogni 7 minuti (+5)</option>
                    <option value="10">Ogni 15 minuti (+10)</option>
                    <option value="-5">Finchè si rimane concentrati (-5)</option>
                    <option value="30">Condizione (Finchè, Quando) (+30)</option>
                    <option value="20">Permanente (+20)</option>
                </select>
            </div>

            <!-- Campi di input nascosti -->
            <div class="mb-3" id="input-round" style="display: none;">
                <label for="numero-round" class="form-label">Inserisci il numero di round oltre il primo:</label>
                <input type="number" id="numero-round" class="form-control" min="0" value="0">
            </div>

            <div class="mb-3" id="input-minuti7" style="display: none;">
                <label for="numero-minuti7" class="form-label">Inserisci il numero di incrementi di 7 minuti:</label>
                <input type="number" id="numero-minuti7" class="form-control" min="0" value="0">
            </div>

            <div class="mb-3" id="input-minuti15" style="display: none;">
                <label for="numero-minuti15" class="form-label">Inserisci il numero di incrementi di 15 minuti:</label>
                <input type="number" id="numero-minuti15" class="form-control" min="0" value="0">
            </div>

            <div class="mb-3">
                <label for="gesti" class="form-label">Modalità di lancio gestuali</label>
                <select id="gesti" class="form-select">
                    <option value="5">Senza gesti (+5)</option>
                    <option value="3">Gesti nascosti (+3)</option>
                    <option value="0">Gesti normali (+0)</option>
                    <option value="-3">Gesti ampi (-3)</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="verbale" class="form-label">Modalità di lancio verbale</label>
                <select id="verbale" class="form-select">
                    <option value="5">Senza voce (+5)</option>
                    <option value="3">Voce bassa (+3)</option>
                    <option value="0">Voce normale (+0)</option>
                    <option value="-3">Voce alta (-3)</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="posizione" class="form-label">Modalità di lancio in posizione</label>
                <select id="posizione" class="form-select">
                    <option value="0">Lancio in posizione normale (+0)</option>
                    <option value="5">Lancio in movimento (+5)</option>
                    <option value="10">Lancio con disturbo (+10)</option>
                    <option value="15">Lancio in combattimento (+15)</option>
                </select>
            </div>

            <h2 class="h4">Variabili di lancio</h2>
            <div class="form-check">
                <input type="checkbox" id="variabile1" class="form-check-input" value="-5">
                <label for="variabile1" class="form-check-label">Utilizzo di componenti magici (-5)</label>
            </div>
            <div class="form-check">
                <input type="checkbox" id="variabile2" class="form-check-input" onchange="mostraInputVariabili()">
                <label for="variabile2" class="form-check-label">Ogni mago aggiuntivo (+0)</label>
            </div>
            
            <!-- Campo di input nascosto per "Ogni mago aggiuntivo" -->
            <div class="mb-3" id="input-mago-aggiuntivo" style="display: none;">
                <label for="numero-magi-aggiuntivi" class="form-label">Inserisci il numero di maghi aggiuntivi:</label>
                <input type="number" id="numero-magi-aggiuntivi" class="form-control" min="0" value="0">
            </div>

            <div class="form-check">
                <input type="checkbox" id="variabile3" class="form-check-input" value="-10" onchange="mostraInputVariabili()">
                <label for="variabile3" class="form-check-label">Lancio con rituale (ogni 15 minuti) (-10)</label>
            </div>

            <!-- Campo di input nascosto per "Lancio con rituale" -->
            <div class="mb-3" id="input-lancio-rituale" style="display: none;">
                <label for="numero-rituali" class="form-label">Inserisci il numero di incrementi di rituali (incrementi di 15 minuti):</label>
                <input type="number" id="numero-rituali" class="form-control" min="0" value="0">
            </div>

            <div class="form-check">
                <input type="checkbox" id="rounds-checkbox" class="form-check-input" onchange="mostraInputRound()">
                <label for="rounds-checkbox" class="form-check-label">Round di concentrazione prima del lancio (max 10) (-1 per round)</label>
            </div>

            <div class="mb-3" id="input-rounds" style="display: none;">
                <label for="numero-rounds" class="form-label">Inserisci il numero di round di concentrazione (max 10):</label>
                <input type="number" id="numero-rounds" class="form-control" min="0" max="10" value="0">
            </div>

            <h2 class="h4">Effetti di lancio</h2>
            <div class="form-check">
                <input type="checkbox" id="effetto1" class="form-check-input" value="5">
                <label for="effetto1" class="form-check-label">Lancio incantesimo senza effetti visivi (+5)</label>
            </div>
            <div class="form-check">
                <input type="checkbox" id="effetto2" class="form-check-input" value="10">
                <label for="effetto2" class="form-check-label">Lancio incantesimo senza effetti magici (+10)</label>
            </div>
            <div class="form-check">
                <input type="checkbox" id="effetto3" class="form-check-input" value="15">
                <label for="effetto3" class="form-check-label">Lancio Incantesimo massimizzato (+15)</label>
            </div>

            <h2 class="h4">Dadi di danni</h2>
            <div class="mb-3">
                <label for="danni1" class="form-label">Ogni +1 aggiuntivo (+2)</label>
                <input type="number" id="danni1" class="form-control" min="0" value="0">
            </div>
            <div class="mb-3">
                <label for="danni2" class="form-label">Ogni d4 aggiuntivo (+5)</label>
                <input type="number" id="danni2" class="form-control" min="0" value="0">
            </div>
            <div class="mb-3">
                <label for="danni3" class="form-label">Ogni d6 aggiuntivo (+7)</label>
                <input type="number" id="danni3" class="form-control" min="0" value="0">
            </div>
            <div class="mb-3">
                <label for="danni4" class="form-label">Ogni d8 aggiuntivo (+9)</label>
                <input type="number" id="danni4" class="form-control" min="0" value="0">
            </div>
            <div class="mb-3">
                <label for="danni5" class="form-label">Ogni d10 aggiuntivo (+11)</label>
                <input type="number" id="danni5" class="form-control" min="0" value="0">
            </div>
            <div class="mb-3">
                <label for="danni6" class="form-label">Ogni d12 aggiuntivo (+13)</label>
                <input type="number" id="danni6" class="form-control" min="0" value="0">
            </div>
            <div class="mb-3">
                <label for="danni7" class="form-label">Ogni d20 aggiuntivo (+15)</label>
                <input type="number" id="danni7" class="form-control" min="0" value="0">
            </div>

            <div class="mb-3">
                <label for="modificatori_mente" class="form-label">Modificatori per Mente</label>
                <select id="modificatori_mente" class="form-select">
                    <option value="0">Leggere (+0)</option>
                    <option value="15">Modificare (+15)</option>
                    <option value="20">Scrivere (+20)</option>
                    <option value="10">Rimuovere (+10)</option>
                </select>
            </div>

            <div class="text-center">
                <button type="button" class="btn btn-custom" onclick="calcolaDifficolta()">Calcola Difficoltà</button>
            </div>
            <div id="risultato-difficolta" style="display: none; margin: 20px auto; padding: 20px; border: 2px solid #495057; background-color: rgba(0, 0, 0, 0.85); color: #F8F9FA; width: 50%; text-align: center; border-radius: 10px;">
                <h2>Difficoltà Totale: <span id="difficolta-totale-display">20</span></h2>
            </div>
        </form>
    </div>
    
</div>

    <footer class="text-center mt-4" style="color: #F8F9FA;">
        <p>&copy; 2024 CrypticSentinel - Open Source GDR - SpellCheck - ver 202408181848</p>
    </footer>

    <!-- Bootstrap JS (opzionale) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Collegamento al file JavaScript esterno -->
    <script src="script.js"></script>
</body>
</html>